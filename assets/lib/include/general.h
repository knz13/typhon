#pragma once
#include "entt/entt.hpp"
#include "effolkronium/random.hpp"
#include "glm/glm.hpp"

using Random = effolkronium::random_static;


using Vector2f = glm::vec2;
using Vector3f = glm::vec3;

template<typename T>
using deleted_unique_ptr = std::unique_ptr<T,std::function<void(T*)>>;


typedef int64_t (*CreateGameObjectFunc)();
typedef void (*RemoveGameObjectFunc)(int64_t);
typedef void (*FindFrameFunc)(int64_t);
typedef void (*AttachPointersToObjectFunc)(int64_t);
typedef void (*SetDefaultsFunc)(int64_t);
typedef void (*AIFunc)(int64_t);
typedef void (*UpdateFunc)(int64_t,double);
typedef void (*PreDrawFunc)(int64_t);
typedef void (*PostDrawFunc)(int64_t);
typedef void (*RemoveObjectFunc)(int64_t);
typedef void (*LoadTextureToObject)(int64_t,const char*);
typedef const char* (*AddToEntityMenuFunc)(void);


namespace HelperFunctions {

    static bool EraseWordFromString(std::string& mainWord, std::string wordToLookFor) {
        auto iter = mainWord.find(wordToLookFor);
        
        bool foundAny = false;
        if(iter != std::string::npos){
            foundAny = true;
        }
        while (iter != std::string::npos) {
            
            mainWord.erase(iter, wordToLookFor.length());
            
            iter = mainWord.find(wordToLookFor, iter);
        }
        return foundAny;
    }


    template<typename T>
    static std::string GetClassNameString() {
        std::string name = std::string(entt::type_id<T>().name());
        HelperFunctions::EraseWordFromString(name, "class ");
        HelperFunctions::EraseWordFromString(name, "struct ");
        if (auto loc = name.find_last_of(':'); loc != std::string::npos) {
            name = std::string(name.begin() + loc + 1, name.end());
        }
        return name;
    }

    template<typename T>
    static int64_t GetIDFromString() {
        static std::hash<std::string> hasher;
            

        return static_cast<int64_t>(hasher(GetClassNameString<T>()));


    };


};



struct ClassesArray {
    int64_t* array;
    const char** stringArray;
    int64_t stringArraySize;
    int64_t size;
};

enum InputKey {
    Underline = 32,
    Exclamation_Symbol = 33,
    Double_Quotes = 34,
    Hashtag_Sign = 35,
    Dollar_Sign = 36,
    Percent_Sign = 37,
    Ampersand = 38,
    Single_Quote_Symbol = 39,
    Parenthesis_Right = 40,
    Parenthesis_Left = 41,
    Asterisk = 42,
    Plus_Sign = 43,
    Comma = 44,
    Minus_Sign = 45,
    Dot = 46,
    Slash = 47,
    Digit_Zero = 48,
    Digit_One = 49,
    Digit_Two = 50,
    Digit_Three = 51,
    Digit_Four = 52,
    Digit_Five = 53,
    Digit_Six = 54,
    Digit_Seven = 55,
    Digit_Eight = 56,
    Digit_Nine = 57,
    Colon = 58,
    Semicolon = 59,
    Less_Than_Symbol = 60,
    Equal_Sign = 61,
    Greater_Than_Symbol = 62,
    Question_Mark = 63,
    At_Symbol = 64,
    Square_Bracket_Right = 91,
    Backslash = 92,
    Square_Bracket_Left = 93,
    Circumflex = 94,
    _ = 95,
    Crasis = 96,
    A = 97,
    B = 98,
    C = 99,
    D = 100,
    E = 101,
    F = 102,
    G = 103,
    H = 104,
    I = 105,
    J = 106,
    K = 107,
    L = 108,
    M = 109,
    N = 110,
    O = 111,
    P = 112,
    Q = 113,
    R = 114,
    S = 115,
    T = 116,
    U = 117,
    V = 118,
    W = 119,
    X = 120,
    Y = 121,
    Z = 122,
    Curly_Bracket_Right = 123,
    Vertical_Divider = 124,
    Curly_Bracket_Left = 125,
    Tilde = 126,
    Unidentified = 4294967297,
    Backspace = 4294967304,
    Tab = 4294967305,
    Enter = 4294967309,
    Escape = 4294967323,
    Delete = 4294967423,
    Accel = 4294967553,
    Alt_Graph = 4294967555,
    Caps_Lock = 4294967556,
    Fn = 4294967558,
    Fn_Lock = 4294967559,
    Hyper = 4294967560,
    Num_Lock = 4294967562,
    Scroll_Lock = 4294967564,
    Super = 4294967566,
    Symbol = 4294967567,
    Symbol_Lock = 4294967568,
    Shift_Level_5 = 4294967569,
    Arrow_Down = 4294968065,
    Arrow_Left = 4294968066,
    Arrow_Right = 4294968067,
    Arrow_Up = 4294968068,
    End = 4294968069,
    Home = 4294968070,
    Page_Down = 4294968071,
    Page_Up = 4294968072,
    Clear = 4294968321,
    Copy = 4294968322,
    Cr_Sel = 4294968323,
    Cut = 4294968324,
    Erase_Eof = 4294968325,
    Ex_Sel = 4294968326,
    Insert = 4294968327,
    Paste = 4294968328,
    Redo = 4294968329,
    Undo = 4294968330,
    Accept = 4294968577,
    Again = 4294968578,
    Attn = 4294968579,
    Cancel = 4294968580,
    Context_Menu = 4294968581,
    Execute = 4294968582,
    Find = 4294968583,
    Help = 4294968584,
    Pause = 4294968585,
    Play = 4294968586,
    Props = 4294968587,
    Select = 4294968588,
    Zoom_In = 4294968589,
    Zoom_Out = 4294968590,
    Brightness_Down = 4294968833,
    Brightness_Up = 4294968834,
    Camera = 4294968835,
    Eject = 4294968836,
    Log_Off = 4294968837,
    Power = 4294968838,
    Power_Off = 4294968839,
    Print_Screen = 4294968840,
    Hibernate = 4294968841,
    Standby = 4294968842,
    Wake_Up = 4294968843,
    All_Candidates = 4294969089,
    Alphanumeric = 4294969090,
    Code_Input = 4294969091,
    Compose = 4294969092,
    Convert = 4294969093,
    Final_Mode = 4294969094,
    Group_First = 4294969095,
    Group_Last = 4294969096,
    Group_Next = 4294969097,
    Group_Previous = 4294969098,
    Mode_Change = 4294969099,
    Next_Candidate = 4294969100,
    Non_Convert = 4294969101,
    Previous_Candidate = 4294969102,
    Process = 4294969103,
    Single_Candidate = 4294969104,
    Hangul_Mode = 4294969105,
    Hanja_Mode = 4294969106,
    Junja_Mode = 4294969107,
    Eisu = 4294969108,
    Hankaku = 4294969109,
    Hiragana = 4294969110,
    Hiragana_Katakana = 4294969111,
    Kana_Mode = 4294969112,
    Kanji_Mode = 4294969113,
    Katakana = 4294969114,
    Romaji = 4294969115,
    Zenkaku = 4294969116,
    Zenkaku_Hankaku = 4294969117,
    F1 = 4294969345,
    F2 = 4294969346,
    F3 = 4294969347,
    F4 = 4294969348,
    F5 = 4294969349,
    F6 = 4294969350,
    F7 = 4294969351,
    F8 = 4294969352,
    F9 = 4294969353,
    F10 = 4294969354,
    F11 = 4294969355,
    F12 = 4294969356,
    F13 = 4294969357,
    F14 = 4294969358,
    F15 = 4294969359,
    F16 = 4294969360,
    F17 = 4294969361,
    F18 = 4294969362,
    F19 = 4294969363,
    F20 = 4294969364,
    F21 = 4294969365,
    F22 = 4294969366,
    F23 = 4294969367,
    F24 = 4294969368,
    Soft_1 = 4294969601,
    Soft_2 = 4294969602,
    Soft_3 = 4294969603,
    Soft_4 = 4294969604,
    Soft_5 = 4294969605,
    Soft_6 = 4294969606,
    Soft_7 = 4294969607,
    Soft_8 = 4294969608,
    Close = 4294969857,
    Mail_Forward = 4294969858,
    Mail_Reply = 4294969859,
    Mail_Send = 4294969860,
    Media_Play_Pause = 4294969861,
    Media_Stop = 4294969863,
    Media_Track_Next = 4294969864,
    Media_Track_Previous = 4294969865,
    New = 4294969866,
    Open = 4294969867,
    Print = 4294969868,
    Save = 4294969869,
    Spell_Check = 4294969870,
    Audio_Volume_Down = 4294969871,
    Audio_Volume_Up = 4294969872,
    Audio_Volume_Mute = 4294969873,
    Launch_Application_2 = 4294970113,
    Launch_Calendar = 4294970114,
    Launch_Mail = 4294970115,
    Launch_Media_Player = 4294970116,
    Launch_Music_Player = 4294970117,
    Launch_Application_1 = 4294970118,
    Launch_Screen_Saver = 4294970119,
    Launch_Spreadsheet = 4294970120,
    Launch_Web_Browser = 4294970121,
    Launch_Web_Cam = 4294970122,
    Launch_Word_Processor = 4294970123,
    Launch_Contacts = 4294970124,
    Launch_Phone = 4294970125,
    Launch_Assistant = 4294970126,
    Launch_Control_Panel = 4294970127,
    Browser_Back = 4294970369,
    Browser_Favorites = 4294970370,
    Browser_Forward = 4294970371,
    Browser_Home = 4294970372,
    Browser_Refresh = 4294970373,
    Browser_Search = 4294970374,
    Browser_Stop = 4294970375,
    Audio_Balance_Left = 4294970625,
    Audio_Balance_Right = 4294970626,
    Audio_Bass_Boost_Down = 4294970627,
    Audio_Bass_Boost_Up = 4294970628,
    Audio_Fader_Front = 4294970629,
    Audio_Fader_Rear = 4294970630,
    Audio_Surround_Mode_Next = 4294970631,
    AVR_Input = 4294970632,
    AVR_Power = 4294970633,
    Channel_Down = 4294970634,
    Channel_Up = 4294970635,
    Color_F0_Red = 4294970636,
    Color_F1_Green = 4294970637,
    Color_F2_Yellow = 4294970638,
    Color_F3_Blue = 4294970639,
    Color_F4_Grey = 4294970640,
    Color_F5_Brown = 4294970641,
    Closed_Caption_Toggle = 4294970642,
    Dimmer = 4294970643,
    Display_Swap = 4294970644,
    Exit = 4294970645,
    Favorite_Clear_0 = 4294970646,
    Favorite_Clear_1 = 4294970647,
    Favorite_Clear_2 = 4294970648,
    Favorite_Clear_3 = 4294970649,
    Favorite_Recall_0 = 4294970650,
    Favorite_Recall_1 = 4294970651,
    Favorite_Recall_2 = 4294970652,
    Favorite_Recall_3 = 4294970653,
    Favorite_Store_0 = 4294970654,
    Favorite_Store_1 = 4294970655,
    Favorite_Store_2 = 4294970656,
    Favorite_Store_3 = 4294970657,
    Guide = 4294970658,
    Guide_Next_Day = 4294970659,
    Guide_Previous_Day = 4294970660,
    Info = 4294970661,
    Instant_Replay = 4294970662,
    Link = 4294970663,
    List_Program = 4294970664,
    Live_Content = 4294970665,
    Lock = 4294970666,
    Media_Apps = 4294970667,
    Media_Fast_Forward = 4294970668,
    Media_Last = 4294970669,
    Media_Pause = 4294970670,
    Media_Play = 4294970671,
    Media_Record = 4294970672,
    Media_Rewind = 4294970673,
    Media_Skip = 4294970674,
    Next_Favorite_Channel = 4294970675,
    Next_User_Profile = 4294970676,
    On_Demand = 4294970677,
    P_In_P_Down = 4294970678,
    P_In_P_Move = 4294970679,
    P_In_P_Toggle = 4294970680,
    P_In_P_Up = 4294970681,
    Play_Speed_Down = 4294970682,
    Play_Speed_Reset = 4294970683,
    Play_Speed_Up = 4294970684,
    Random_Toggle = 4294970685,
    Rc_Low_Battery = 4294970686,
    Record_Speed_Next = 4294970687,
    Rf_Bypass = 4294970688,
    Scan_Channels_Toggle = 4294970689,
    Screen_Mode_Next = 4294970690,
    Settings = 4294970691,
    Split_Screen_Toggle = 4294970692,
    STB_Input = 4294970693,
    STB_Power = 4294970694,
    Subtitle = 4294970695,
    Teletext = 4294970696,
    TV = 4294970697,
    TV_Input = 4294970698,
    TV_Power = 4294970699,
    Video_Mode_Next = 4294970700,
    Wink = 4294970701,
    Zoom_Toggle = 4294970702,
    DVR = 4294970703,
    Media_Audio_Track = 4294970704,
    Media_Skip_Backward = 4294970705,
    Media_Skip_Forward = 4294970706,
    Media_Step_Backward = 4294970707,
    Media_Step_Forward = 4294970708,
    Media_Top_Menu = 4294970709,
    Navigate_In = 4294970710,
    Navigate_Next = 4294970711,
    Navigate_Out = 4294970712,
    Navigate_Previous = 4294970713,
    Pairing = 4294970714,
    Media_Close = 4294970715,
    Audio_Bass_Boost_Toggle = 4294970882,
    Audio_Treble_Down = 4294970884,
    Audio_Treble_Up = 4294970885,
    Microphone_Toggle = 4294970886,
    Microphone_Volume_Down = 4294970887,
    Microphone_Volume_Up = 4294970888,
    Microphone_Volume_Mute = 4294970889,
    Speech_Correction_List = 4294971137,
    Speech_Input_Toggle = 4294971138,
    App_Switch = 4294971393,
    Call = 4294971394,
    Camera_Focus = 4294971395,
    End_Call = 4294971396,
    Go_Back = 4294971397,
    Go_Home = 4294971398,
    Headset_Hook = 4294971399,
    Last_Number_Redial = 4294971400,
    Notification = 4294971401,
    Manner_Mode = 4294971402,
    Voice_Dial = 4294971403,
    TV_3_D_Mode = 4294971649,
    TV_Antenna_Cable = 4294971650,
    TV_Audio_Description = 4294971651,
    TV_Audio_Description_Mix_Down = 4294971652,
    TV_Audio_Description_Mix_Up = 4294971653,
    TV_Contents_Menu = 4294971654,
    TV_Data_Service = 4294971655,
    TV_Input_Component_1 = 4294971656,
    TV_Input_Component_2 = 4294971657,
    TV_Input_Composite_1 = 4294971658,
    TV_Input_Composite_2 = 4294971659,
    TV_Input_HDMI_1 = 4294971660,
    TV_Input_HDMI_2 = 4294971661,
    TV_Input_HDMI_3 = 4294971662,
    TV_Input_HDMI_4 = 4294971663,
    TV_Input_VGA_1 = 4294971664,
    TV_Media_Context = 4294971665,
    TV_Network = 4294971666,
    TV_Number_Entry = 4294971667,
    TV_Radio_Service = 4294971668,
    TV_Satellite = 4294971669,
    TV_Satellite_BS = 4294971670,
    TV_Satellite_CS = 4294971671,
    TV_Satellite_Toggle = 4294971672,
    TV_Terrestrial_Analog = 4294971673,
    TV_Terrestrial_Digital = 4294971674,
    TV_Timer = 4294971675,
    Key_11 = 4294971905,
    Key_12 = 4294971906,
    Suspend = 8589934592,
    Resume = 8589934593,
    Sleep = 8589934594,
    Abort = 8589934595,
    Lang_1 = 8589934608,
    Lang_2 = 8589934609,
    Lang_3 = 8589934610,
    Lang_4 = 8589934611,
    Lang_5 = 8589934612,
    Intl_Backslash = 8589934624,
    Intl_Ro = 8589934625,
    Intl_Yen = 8589934626,
    Control_Left = 8589934848,
    Control_Right = 8589934849,
    Shift_Left = 8589934850,
    Shift_Right = 8589934851,
    Alt_Left = 8589934852,
    Alt_Right = 8589934853,
    Meta_Left = 8589934854,
    Meta_Right = 8589934855,
    Control = 8589935088,
    Shift = 8589935090,
    Alt = 8589935092,
    Meta = 8589935094,
    Numpad_Enter = 8589935117,
    Numpad_Paren_Left = 8589935144,
    Numpad_Paren_Right = 8589935145,
    Numpad_Multiply = 8589935146,
    Numpad_Add = 8589935147,
    Numpad_Comma = 8589935148,
    Numpad_Subtract = 8589935149,
    Numpad_Decimal = 8589935150,
    Numpad_Divide = 8589935151,
    Numpad_0 = 8589935152,
    Numpad_1 = 8589935153,
    Numpad_2 = 8589935154,
    Numpad_3 = 8589935155,
    Numpad_4 = 8589935156,
    Numpad_5 = 8589935157,
    Numpad_6 = 8589935158,
    Numpad_7 = 8589935159,
    Numpad_8 = 8589935160,
    Numpad_9 = 8589935161,
    Numpad_Equal = 8589935165,
    Game_Button_1 = 8589935361,
    Game_Button_2 = 8589935362,
    Game_Button_3 = 8589935363,
    Game_Button_4 = 8589935364,
    Game_Button_5 = 8589935365,
    Game_Button_6 = 8589935366,
    Game_Button_7 = 8589935367,
    Game_Button_8 = 8589935368,
    Game_Button_9 = 8589935369,
    Game_Button_10 = 8589935370,
    Game_Button_11 = 8589935371,
    Game_Button_12 = 8589935372,
    Game_Button_13 = 8589935373,
    Game_Button_14 = 8589935374,
    Game_Button_15 = 8589935375,
    Game_Button_16 = 8589935376,
    Game_Button_A = 8589935377,
    Game_Button_B = 8589935378,
    Game_Button_C = 8589935379,
    Game_Button_Left_1 = 8589935380,
    Game_Button_Left_2 = 8589935381,
    Game_Button_Mode = 8589935382,
    Game_Button_Right_1 = 8589935383,
    Game_Button_Right_2 = 8589935384,
    Game_Button_Select = 8589935385,
    Game_Button_Start = 8589935386,
    Game_Button_Thumb_Left = 8589935387,
    Game_Button_Thumb_Right = 8589935388,
    Game_Button_X = 8589935389,
    Game_Button_Y = 8589935390,
    Game_Button_Z = 8589935391,
};
